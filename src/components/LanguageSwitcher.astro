---
export interface Props {
  lang: 'en' | 'pl' | 'de';
  pathMap: {
    en: string;
    pl: string;
    de: string;
  };
}

const { lang, pathMap } = Astro.props;
---

<nav aria-label="Language" class="language-switcher">
  <a
    href={pathMap.en}
    aria-current={lang === 'en' ? 'true' : 'false'}
    class="lang-link">EN</a
  >
  <span>·</span>
  <a
    href={pathMap.pl}
    aria-current={lang === 'pl' ? 'true' : 'false'}
    class="lang-link">PL</a
  >
  <span>·</span>
  <a
    href={pathMap.de}
    aria-current={lang === 'de' ? 'true' : 'false'}
    class="lang-link">DE</a
  >
</nav>

<style>
  .language-switcher {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--font-size-sm);
  }

  .lang-link {
    text-decoration: none;
    color: var(--text);
    padding: var(--space-1) var(--space-2);
    border-radius: var(--radius-s);
    transition: background-color 0.2s;
  }

  .lang-link[aria-current='true'] {
    background: var(--primary);
    color: white;
  }

  .lang-link:hover {
    background: var(--muted);
  }
</style>
